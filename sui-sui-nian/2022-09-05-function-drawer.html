<!DOCTYPE html>
<html lang="zh-cn">

<head>
    <meta charset="utf-8">
  <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />


  <title>函数绘图工具的选择</title>


  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="referrer" content="origin" />
  <meta name="generator" content="Pelican" />
<link href="https://leonis.cc/sui-sui-nian/2022-09-05-function-drawer.html" rel="canonical" />
  <!-- Feed -->
  <link href="https://leonis.cc/feed.xml" type="application/atom+xml" rel="alternate"
    title="Leo's blog Full Atom Feed" />

  <link href="https://leonis.cc/theme/css/style.css" type="text/css" rel="stylesheet" />

  <!-- CSS specified by the user -->


  <link href="https://leonis.cc/theme/css/customize.css" type="text/css" rel="stylesheet" />


  <link href="https://leonis.cc/theme/css/plugins.css" type="text/css" rel="stylesheet" />


  <link href="https://leonis.cc/theme/css/lightgallery.min.css" type="text/css" rel="stylesheet" />


  <link href="https://leonis.cc/theme/css/bookshelf.css" type="text/css" rel="stylesheet" />


  <!-- font-awesome icons -->
  <link href="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/font-awesome/6.0.0/css/all.min.css" rel="stylesheet" />
  <!-- Custom fonts -->
  <link href="https://ik.imagekit.io/leonis/ChiuKongGothic-CL-w4/result.css?updatedAt=1700222744424" rel="stylesheet" />
  <link href="https://ik.imagekit.io/leonis/ChiuKongGothic-CL-w5/result.css?updatedAt=1700275749020" rel="stylesheet" />
  <link href="https://ik.imagekit.io/leonis/ChiuKongGothic-CL-w7/result.css?updatedAt=1700275854743" rel="stylesheet" />
  <link href="https://cdnjs.loli.net/ajax/libs/fontsource-fira-sans/5.0.19/400.min.css" rel="stylesheet" />
  <link href="https://cdnjs.loli.net/ajax/libs/fontsource-fira-sans/5.0.19/400-italic.min.css" rel="stylesheet" />
  <link href="https://cdnjs.loli.net/ajax/libs/fontsource-fira-sans/5.0.19/500.min.css" rel="stylesheet" />
  <link href="https://cdnjs.loli.net/ajax/libs/fontsource-fira-sans/5.0.19/500-italic.min.css" rel="stylesheet" />
  <link href="https://cdnjs.loli.net/ajax/libs/fontsource-fira-sans/5.0.19/700.min.css" rel="stylesheet" />
  <link href="https://cdnjs.loli.net/ajax/libs/fontsource-fira-sans/5.0.19/700-italic.min.css" rel="stylesheet" />
  <link href="https://cdnjs.loli.net/ajax/libs/fontsource-mononoki/5.0.7/400.min.css" rel="stylesheet" />
  <link href="https://cdnjs.loli.net/ajax/libs/fontsource-mononoki/5.0.7/400-italic.min.css" rel="stylesheet" />
  <link href="https://cdnjs.loli.net/ajax/libs/fontsource-mononoki/5.0.7/700.min.css" rel="stylesheet" />
  <link href="https://cdnjs.loli.net/ajax/libs/fontsource-mononoki/5.0.7/700-italic.min.css" rel="stylesheet" />
  <link href="https://cdnjs.loli.net/ajax/libs/fontsource-lato/5.0.19/400.min.css" rel="stylesheet" />
  <link href="https://ik.imagekit.io/leonis/AdvocateAncientSerifSC-Bold/result.css?updatedAt=1700289637334" rel="stylesheet" />

  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
  <![endif]-->

  <script>
    var siteUrl = 'https://leonis.cc';
  </script>

  <script>
    var localTheme = localStorage.getItem('attila_theme');
    switch (localTheme) {
      case 'dark':
        document.documentElement.classList.add('theme-dark');
        break;
      case 'light':
        document.documentElement.classList.add('theme-light');
        break;
      default:
        break;
    }
  </script>







    <meta name="description" content="不管是论文、博客文章还是 PPT，凡是有数学公式的地方，常常都需要伴有函数图象。绘制插图的工具多到难以计数，找到称心顺手的工具更是难上加难，以下就尝试过的工具给出我的评价，或许能提供一些参考。">

    <meta name="author" content="Leo">

    <meta name="tags" content="matplotlib">
    <meta name="tags" content="Python">




<!-- Open Graph -->
<meta prefix="og: http://ogp.me/ns#" property="og:site_name" content="Leo's blog"/>
<meta prefix="og: http://ogp.me/ns#" property="og:title" content="函数绘图工具的选择"/>
<meta prefix="og: http://ogp.me/ns#" property="og:description" content="不管是论文、博客文章还是 PPT，凡是有数学公式的地方，常常都需要伴有函数图象。绘制插图的工具多到难以计数，找到称心顺手的工具更是难上加难，以下就尝试过的工具给出我的评价，或许能提供一些参考。"/>
<meta prefix="og: http://ogp.me/ns#" property="og:locale" content="en_US"/>
<meta prefix="og: http://ogp.me/ns#" property="og:url" content="https://leonis.cc/sui-sui-nian/2022-09-05-function-drawer.html"/>
<meta prefix="og: http://ogp.me/ns#" property="og:type" content="article"/>
<meta prefix="og: http://ogp.me/ns#" property="article:published_time" content="2022-09-05 00:00:00+08:00"/>
<meta prefix="og: http://ogp.me/ns#" property="article:modified_time" content=""/>
<meta prefix="og: http://ogp.me/ns#" property="article:author" content="https://leonis.cc/author/leo.html">
<meta prefix="og: http://ogp.me/ns#" property="article:section" content="碎碎念"/>
<meta prefix="og: http://ogp.me/ns#" property="article:tag" content="matplotlib"/>
<meta prefix="og: http://ogp.me/ns#" property="article:tag" content="Python"/>
<meta prefix="og: http://ogp.me/ns#" property="og:image" content="https://api.onedrive.com/v1.0/shares/s!AtseC45rsRhNwFfSnZ1Pc1osKbni/root/content">

<!-- Twitter Card -->

<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Article",
  "name": "函数绘图工具的选择",
  "headline": "函数绘图工具的选择",
  "datePublished": "2022-09-05 00:00:00+08:00",
  "dateModified": "",
  "author": {
    "@type": "Person",
    "name": "Leo",
    "url": "https://leonis.cc/author/leo.html"
  },
  "image": "https://leonis.cc/https://api.onedrive.com/v1.0/shares/s!AtseC45rsRhNwFfSnZ1Pc1osKbni/root/content",
  "url": "https://leonis.cc/sui-sui-nian/2022-09-05-function-drawer.html",
  "description": "不管是论文、博客文章还是 PPT，凡是有数学公式的地方，常常都需要伴有函数图象。绘制插图的工具多到难以计数，找到称心顺手的工具更是难上加难，以下就尝试过的工具给出我的评价，或许能提供一些参考。"
}
</script>

<link href="https://npm.elemecdn.com/@waline/client@2.14.9/dist/waline.css" rel="stylesheet" />
<script src="https://npm.elemecdn.com/@waline/client@2.14.9/dist/waline.js"></script>

</head>









<body class="category-template">

<div class="nav-header">
  <nav class="nav-wrapper" aria-label="Main">
<ul>

    <li class="nav-Home " role="presentation"><a href="/"><span>Home</span></a></li>
    <li class="nav-碎碎唸 active" role="presentation"><a href="/category/sui-sui-nian.html"><span>碎碎唸</span></a></li>
    <li class="nav-故紙堆 " role="presentation"><a href="/category/gu-zhi-dui.html"><span>故紙堆</span></a></li>
    <li class="nav-在路上 " role="presentation"><a href="/category/zai-lu-shang.html"><span>在路上</span></a></li>
    <li class="nav-山牆邊 " role="presentation"><a href="/pages/shan-qiang-bian.html"><span>山牆邊</span></a></li>
    <li class="nav-破櫥簏 " role="presentation"><a href="https://neodb.social/users/Leo/"><span>破櫥簏</span></a></li>
    <li class="nav-Archives " role="presentation"><a href="/archives.html"><span>Archives</span></a></li>
    <li class="nav-Tags " role="presentation"><a href="/tags.html"><span>Tags</span></a></li>
    <li class="nav-About " role="presentation"><a href="/about.html"><span>About</span></a></li>

</ul>
<ul class="nav-meta">
    <li class="nav-search">
      <a aria-label="Search" href="/search.html" target="_blank">
        <i class="icon icon-search" aria-hidden="true"></i>
    <span>search</span></a></li>
    <li class="nav-foreverblog">
      <a aria-label="Foreverblog" href="https://www.foreverblog.cn/go.html" target="_blank">
        <i aria-hidden="true"><img src="https://img.foreverblog.cn/wormhole_2_tp.gif" alt="foreverblog" title="穿梭虫洞-随机访问十年之约友链博客"></i>
    <span>foreverblog</span></a></li>
    <li class="nav-travellings">
      <a aria-label="Travellings" href="https://www.travellings.cn/go.html" target="_blank">
        <i aria-hidden="true"><img src="https://www.travellings.cn/assets/w.png" alt="travellings" title="开往-友链接力" aria-hidden="true"></i>
    <span>travellings</span></a></li>
  <li class="nav-search" style="display: none;">
    <a title="Search">
      <i class="icon icon-search" aria-hidden="true"></i>
      <span>Search</span>
    </a>
  </li>
</ul>  </nav>

  <div class="nav-wrapper-control">
    <div class="inner">
      <a class="nav-menu" role="button"><i class="icon icon-menu" aria-hidden="true"></i>Menu</a>
      <a class="nav-search" title="Search" role="button" style="display: none;"><i class="icon icon-search" aria-hidden="true"></i></a>
    </div>
  </div>
</div>
<div class="nav-close" role="button" aria-label="Close"></div>
  <section id="wrapper" class="page-wrapper">
    <!-- Progressbar -->
    <div class="progress-container">
      <span class="progress-bar"></span>
    </div>

    <!-- Page Header -->
    <!-- Set your background image for this header on the line below. -->
    <header class="post-header  has-cover ">
      <div class="inner">
        <span class="post-info">
          <span class="post-type">Article</span>
          <span class="post-count">碎碎念</span>
        </span>
        <h1 class="post-title">函数绘图工具的选择</h1>
        <div class="post-meta">
          <div class="post-meta-avatars">


            <figure class="post-meta-avatar avatar">
              <a class="author-avatar" href="https://leonis.cc/author/leo.html">
                <img class="author-profile-image" src="https://cravatar.cn/avatar/95e31f6808fafa1f8ef3313b6f0b10e6?s=800" alt="Leo" />
              </a>
            </figure>
          </div>

          <h4 class="post-meta-author">
            Leo
          </h4>
          <time datetime="2022年 9月05日">2022年 9月05日</time>
        </div>
          <div class="post-cover cover">
            <img src="https://api.onedrive.com/v1.0/shares/s!AtseC45rsRhNwFfSnZ1Pc1osKbni/root/content" alt="Category 碎碎念" />
          </div>
      </div>
    </header>

    <!-- Post content -->
    <main class="content" role="main">
        <article class="post">
          <div class="toc-nav">
            <div id="toc"><ul><li><a class="toc-href" href="#powerpoint" title="PowerPoint">PowerPoint</a></li><li><a class="toc-href" href="#tikz" title="TikZ">TikZ</a></li><li><a class="toc-href" href="#matplotlib" title="matplotlib">matplotlib</a></li></ul></div>
          </div>
        <div class="inner">
          <section class="post-content">
            <p>不管是论文、博客文章还是 PPT，凡是有数学公式的地方，常常都需要伴有函数图象。绘制插图的工具多到难以计数，找到称心顺手的工具更是难上加难，以下就尝试过的工具给出我的评价，或许能提供一些参考。</p>
<h2 id="powerpoint">PowerPoint</h2>
<p>对，没有看错，正是 Office 家族的 PowerPoint，PowerPoint 的绘图工具十分强劲。</p>
<p>一来是具有图形化界面，所见即所得的操作方式很适合完全没有绘图基础的用户，在一顿摸索之后总能画得出不错的图形。二是 PowerPoint 支持多种图片格式，不管是网络上常用的 JPEG，还是用于论文的 SVG，一键就能导出。此外，在 PowerPoint 原生环境中绘制的图形，插入到 PPT 中更是天衣无缝。再者，PowerPoint 是 Windows 系统中的预装软件，开箱即用，十分方便。</p>
<p>在我看来，对于一些简单或是要求不高的图形，PowerPoint 就已经足够满足要求了。但是，若对排版有着较高要求，那么 PowerPoint 就难堪此任了。</p>
<p>对于较为复杂的图形，在 PowerPoint 需要绘制大量图层，操作相当困难，建议还是交给专业的 Adobe Illustrator。再者，PowerPoint 很难直接放大整个图形。例如，一组包含文字与几何形状的图形，直接放大就会造成文字与几何形状间的错位，必须一个个调整。另一大缺点就是 Office 的公式编辑器相当难用，尽管新版的 Office 已经支持了 LaTex 表达式，但是字体等等问题真是一言难尽。令我放弃 PowerPoint 关键是 PowerPoint 不能按公式绘制函数，只能用曲线工具一点点去描图，这就不能满足我的需求了。</p>
<h2 id="tikz">TikZ</h2>
<p>TikZ 是 LaTex 的绘图宏包，能够通过 LaTex 指令直接在 PDF 中绘制矢量图。TikZ 是在 LaTex 环境中用指令绘图的，因此 TikZ 绘制的图形特别能满足排版强迫症患者，同时绘图风格与 LaTex 文章一致，看起来十分舒服。</p>
<p>我也尝试过使用 TikZ 绘图，我的感觉是操作较为繁琐。例如绘制平面坐标系，竟然需要绘制两根箭头线，再绘制线上的短线作为刻度。或许为了排版美观，这不算什么，「严谨」嘛。那么对会绘图工具来说，最致命的一点莫过于不能导出图片文件了吧，是的，TikZ 竟然只能导出 PDF。我还尝试了各种格式转换工具，总不能导出清晰的 JPEG，不适合放在网页上，遂放弃。</p>
<p>TikZ 还有另一个小问题，也可能是我配置的问题，在我使用 TikZ 绘制函数时，若指定的定义域超过某个值，就会给出错误 <code>Dimension too large</code>。网络上给出的原因是，TikZ 不支持计算过大的数值，这一点在使用上也让人备感掣肘。</p>
<h2 id="matplotlib">matplotlib</h2>
<p>matplotlib 是我最早学习的专业绘图工具，过去几年，我也见证着它越来越完善。随着使用 matplotlib 越多，对于 matplotlib 的样式总会疲倦，于是我尝试了其他绘图工具，最终兜兜转转，又回到了 matplotlib 的怀抱，这大概就是「否定之否定」吧。</p>
<p>matplotlib 是 Python 的绘图包，因为同时依赖于强力的 numpy 包，复杂的运算对它而言是轻而易举，这对于各种数据的处理非常方便。matplotlib 通过代码绘制图像，各种样式自然也可以自定义。matplotlib 的各种优点在此也不再赘述，回到本文的主题，那么如何绘制出教科书式的函数示意图呢？</p>
<p>用以下代码绘制默认样式的函数图像：</p>
<pre><code class="language-python">import numpy as np
import matplotlib.pyplot as plt

fig = plt.figure(figsize=(4,3))     # 新建画布
ax = fig.add_subplot(111)           # 新建坐标系
fig.add_axes(ax)                    # 将坐标系添加到画布

x = np.arange(-6, 6, 0.1)
y = lambda x: 1/(1+np.e**(-x))

ax.plot(x, y(x))

plt.show()
</code></pre>
<p><img alt="默认" src="https://storage.live.com/items/4D18B16B8E0B1EDB!7548?authkey=ALYpzW-ZQ_VBXTU"/></p>
<p>matplotlib 的默认样式虽然也很美观，但是与我们想要的教科书样式差别很大，教科书样式的主要特点就是坐标轴位于原点、黑白配色，我的解决方案是使用以下代码的样式：</p>
<pre><code class="language-python">import numpy as np
import matplotlib.pyplot as plt
import mpl_toolkits.axisartist as axisartist

fig = plt.figure(figsize=(10,4))
ax1 = axisartist.Subplot(fig, 121)      # 左侧子图
ax2 = axisartist.Subplot(fig, 122)      # 右侧子图
fig.add_axes(ax1)
fig.add_axes(ax2)

axes_list = [ax1, ax2]

for ax in axes_list:
    # 隐藏边框
    ax.axis[:].set_visible(False)
    # 在原点绘制 x, y 轴
    ax.axis["x"] = ax.new_floating_axis(0,0)
    ax.axis["y"] = ax.new_floating_axis(1,0)
    # 设置 x, y 轴的样式
    ax.axis["x"].set_axisline_style("-|&gt;", size=1.5)
    ax.axis["y"].set_axisline_style("-|&gt;", size=1.5)
    # 设置 x, y 轴的箭头设为黑色
    ax.axis["x"].line.set_facecolor("black")
    ax.axis["y"].line.set_facecolor("black")
    # 隐藏坐标轴刻度
    ax.set_xticks([])
    ax.set_yticks([])

x = np.arange(-6, 6, 0.1)
y = lambda x: 1/(1+np.e**(-x))
ax1.plot(x, y(x), lw=2, c="black")

x = np.arange(-6, 6, 0.1)
y = lambda x: np.e**(-x)/(1+np.e**(-x))**2
ax2.plot(x, y(x), lw=2, c="black")

plt.show()
</code></pre>
<p><img alt="教科书式" src="https://storage.live.com/items/4D18B16B8E0B1EDB!7549?authkey=ALYpzW-ZQ_VBXTU"/></p>
<p>唯一的不足之处是坐标轴的箭头稍有些肥大，略显怪异，我没有找到改变这个箭头样式的方法，于是只好直接修改默认样式。在 <code>matplotlib.patches</code> 中找到以下代码片段：</p>
<pre><code class="language-python">@_register_style(_style_list, name="-|&gt;")
    class CurveFilledB(_Curve):
        """An arrow with filled triangle head at the end."""
        arrow = "-|&gt;"
</code></pre>
<p>在后面添加代码修改箭头样式，修改后的代码片段是：</p>
<pre><code class="language-python">@_register_style(_style_list, name="-|&gt;")
    class CurveFilledB(_Curve):
        """An arrow with filled triangle head at the end."""
        arrow = "-|&gt;"
        # 修改默认箭头样式
        def __init__(self, head_length=.75, head_width=.125):
            super().__init__(head_length=head_length, head_width=head_width)
</code></pre>
<p><div class="warn-info"><p><span><i class="fa-solid fa-circle-exclamation"></i>&ensp;Warning</span>&emsp;对于 <code>matplotlib.patches</code> 的修改，在matplotlib 更新后会失效，需要重新修改。</p></div></p>
<p>最后使用以下代码绘制图像：</p>
<pre><code class="language-python">import numpy as np
import matplotlib.pyplot as plt
import mpl_toolkits.axisartist as axisartist

def scale_axes(ax, x, y, xscale=0.2, yscale=0.2):
    dx = np.max(x) - np.min(x)
    ax.set_xlim([np.min(x)-xscale*dx, np.max(x)+xscale*dx])
    dy = np.max(y) - np.min(y)
    ax.set_ylim([np.min(y)-yscale*dy, np.max(y)+yscale*dy])

fig = plt.figure(figsize=(10,4))
ax1 = axisartist.Subplot(fig, 121)
ax2 = axisartist.Subplot(fig, 122)
fig.add_axes(ax1)
fig.add_axes(ax2)

axes_list = [ax1, ax2]

for ax in axes_list:
    ax.axis[:].set_visible(False)
    ax.axis["x"] = ax.new_floating_axis(0,0)
    ax.axis["y"] = ax.new_floating_axis(1,0)
    ax.axis["x"].set_axisline_style("-|&gt;", size=1.5)
    ax.axis["y"].set_axisline_style("-|&gt;", size=1.5)
    ax.axis["x"].line.set_facecolor("black")
    ax.axis["y"].line.set_facecolor("black")

    ax.set_xticks([])
    ax.set_yticks([])

x = np.arange(-6, 6, 0.1)
y = lambda x: 1/(1+np.e**(-x))
ax1.plot(x, y(x), lw=2, c="black")
scale_axes(ax1, x, y(x))

x = np.arange(-6, 6, 0.1)
y = lambda x: np.e**(-x)/(1+np.e**(-x))**2
ax2.plot(x, y(x), lw=2, c="black")
scale_axes(ax2, x, y(x))

plt.show()
</code></pre>
<p>其中我新增了 <code>scale_axes()</code> 用于控制函数图像按比例自动缩放，能够让左右图的坐标轴对齐，风格更统一，这样的图像就非常美观了。</p>
<p><img alt="修改箭头" src="https://storage.live.com/items/4D18B16B8E0B1EDB!7554?authkey=ALYpzW-ZQ_VBXTU"/></p>
<p><div class="warn-info"><p><span><i class="fa-solid fa-circle-exclamation"></i>&ensp;Warning</span>&emsp;本文最后更新于 2022 年 09 月 07 日，请确定内容是否过时。</p></div></p>
          </section>


          <section class="post-footer" style="margin: 12rem 0 0;">
            <div class="post-share">
              <span class="post-info-label">Share</span>
                <a title="Copy URL" aria-label="Share-link" class="share-link"
                  href="#" onclick='copyURL(event, "函数绘图工具的选择 - Leo&#39;s blog https://leonis.cc/sui-sui-nian/2022-09-05-function-drawer.html");return false;'>
                  <i class="icon icon-link"
                  aria-hidden="true"></i><span class="hidden">Share-link</span>
                </a>
                <a title="Mastodon" aria-label="Mastodon" class="mastodon"
                  href="https://tootpick.org/#text=函数绘图工具的选择 - Leo&#39;s blog https://leonis.cc/sui-sui-nian/2022-09-05-function-drawer.html" target="_blank" rel="noopener noreferrer">
                  <i class="fa-brands fa-mastodon"
                  aria-hidden="true"></i><span class="hidden">Mastodon</span>
                </a>
                <a title="Weibo" aria-label="Weibo" class="weibo"
                  href="http://service.weibo.com/share/share.php?url=https://leonis.cc/sui-sui-nian/2022-09-05-function-drawer.html&title=函数绘图工具的选择&nbsp;-&nbsp;Leo's blog"
                  target="_blank" rel="noopener noreferrer">
                  <i class="fa-brands fa-weibo"
                  aria-hidden="true"></i><span class="hidden">Weibo</span>
                </a>
                <a title="Email" aria-label="Email" class="email"
                  href="mailto:?subject=函数绘图工具的选择&amp;body=https://leonis.cc/sui-sui-nian/2022-09-05-function-drawer.html">
                  <i class="icon icon-mail"
                  aria-hidden="true"></i><span class="hidden">Email</span>
                </a>
              <div class="clear"></div>
            </div>

            <aside class="post-tags">
<a href="https://leonis.cc/tag/matplotlib.html"># matplotlib</a><a href="https://leonis.cc/tag/python.html"># Python</a>            </aside>

            <div class="clear"></div>

            <aside class="post-author">


                <figure class="post-author-avatar">
                  <img src="https://cravatar.cn/avatar/95e31f6808fafa1f8ef3313b6f0b10e6?s=800" alt="Leo" />
                </figure>
                <div class="post-author-bio">
                  <h4 class="post-author-name"><a href="https://leonis.cc/author/leo.html">Leo</a></h4>
                    <p class="post-author-about">A biochemist who doesn't know about classical literature isn't a good programmer. Cool, huh?</p>
                    <span class="post-author-location">
                      <a rel="noopener" target="_blank" href="https://www.bing.com/maps?cp=39.116572%7E117.361669&lvl=10.1"
                      title="Tientsin">
                      <i class="fa-solid fa-earth-asia fa-fw"></i></a>
                    </span>
                  <!-- Social linkes in alphabet order. -->
                    <span class="post-author-mastodon">
                      <a rel="noopener" target="_blank" href="https://mast.dragon-fly.club/@leonis"
                      title="@leonis@dragon-fly.club">
                        <i class="fa-brands fa-mastodon fa-fw"></i></a>
                    </span>
                    <span class="post-author-github">
                      <a rel="noopener" target="_blank" href="https://github.com/Tseing"
                      title="@Tseing">
                        <i class="fa-brands fa-github fa-fw"></i></a>
                    </span>
                    <span class="post-author-email">
                      <a rel="noopener" target="_blank" href="mailto:im.yczeng@outlook.com"
                      title="im.yczeng@outlook.com">
                        <i class="fa-solid fa-envelope fa-fw"></i></a>
                    </span>
                    <span class="post-author-rss">
                      <a rel="noopener" target="_blank" href="/feed.xml"
                      title="RSS Feed">
                        <i class="fa-solid fa-rss fa-fw"></i></a>
                    </span>
                </div>
                <div class="clear"></div>
            </aside>

          </section>


          <aside class="post-nav">
            <a class="post-nav-next" href="https://leonis.cc/sui-sui-nian/2022-09-06-dns-forbidden-of-github-pages.html">
              <section class="post-nav-teaser">
                <i class="icon icon-arrow-left"></i>
                  <h2 class="post-nav-title">国内部分网络无法访问 githui.io 的解决方案</h2>
                <p class="post-nav-excerpt">和往常一样，在浏览器中键入我的 GitHub Pages 地址，Firefox 却提示「找不到服务器」。发现运营商自动提供的 DNS 服务不解析...</p>
                <p class="post-nav-meta"><time datetime="2022年 9月06日">2022年 9月06日</time></p>
              </section>
            </a>
            <a class="post-nav-prev" href="https://leonis.cc/gu-zhi-dui/2022-08-31-hokciu-word-collect.html">
              <section class="post-nav-teaser">
                <i class="icon icon-arrow-right"></i>
                  <h2 class="post-nav-title">詞藪</h2>
                <p class="post-nav-excerpt">輯錄閩東語散佚在民間的字詞。</p>
                <p class="post-nav-meta"><time datetime="2022年 8月31日">2022年 8月31日</time></p>
              </section>
            </a>
            <div class="clear"></div>
          </aside>

<div id="waline"></div>
        </div>
      </article>
    </main>
    <div class="nav-footer">
      <nav class="nav-wrapper" aria-label="Footer">
        <span class="nav-copy">Leo's blog &copy; 2024
        </span>
        <span class="nav-credits">



          Published with <a href="https://github.com/getpelican/pelican" rel="nofollow">Pelican</a> &bull; Theme <a href="https://github.com/arulrajnet/attila" rel="nofollow">Attila</a> &bull;
          <a class="menu-item js-theme" href="#" data-system="System theme" data-dark="Dark theme" data-light="Light theme">
            <span class="theme-icon"></span><span class="theme-text">System theme</span>
          </a>
        </span>
      </nav>
    </div>

  </section>

  <script src="https://cdnjs.loli.net/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
  <!-- code highlight -->
  <script src="https://cdnjs.loli.net/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
  <script src="https://cdnjs.loli.net/ajax/libs/highlight.js/11.7.0/languages/django.min.js"></script>
  <script src="https://cdnjs.loli.net/ajax/libs/highlight.js/11.7.0/languages/dockerfile.min.js"></script>
  <script src="https://cdnjs.loli.net/ajax/libs/highlight.js/11.7.0/languages/markdown.min.js"></script>
  <script src="https://cdnjs.loli.net/ajax/libs/highlight.js/11.7.0/languages/nginx.min.js"></script>
  <script type="text/javascript" src="https://leonis.cc/theme/js/jquery.fitvids.js"></script>
  <script type="text/javascript" src="https://leonis.cc/theme/js/script.js"></script>

  <!-- lightbox -->
  <script type="text/javascript" src="https://leonis.cc/theme/js/lightgallery.min.js"></script>
  <script type="text/javascript" src="https://leonis.cc/theme/js/lg-zoom.min.js"></script>
  <script>
    var elements = document.getElementsByClassName("lightgallery");
    for(var i=0; i<elements.length; i++) {
       lightGallery(elements[i]);
    }
  </script>
    <!-- umami analytics -->
    <script async defer src="https://analytics.umami.is/script.js" data-website-id="b508982a-f7bf-4c24-a948-8de93b0cb81d"></script>


  <!-- 	The #block helper will pull in data from the #contentFor other template files. In this case, there's some JavaScript which we only want to use in article.html, but it needs to be included down here, after jQuery has already loaded. -->

<script>
  $(document).ready(function () {
    var viewport = $(window);
    var post = $('.post-content');
    // Responsive videos with fitVids
    post.fitVids();

    var mdSelector="pre code";
    var rstSelector="pre code";
    var selector=mdSelector;
    // Format code blocks and add line numbers
    function codestyling() {
      $(selector).each(function(i, e) {
        // Code highlight
        hljs.highlightElement(e);
        // No lines for plain text blocks
        if (!$(this).hasClass('language-text')) {
          var code = $(this);
          // Calculate amount of lines
          var lines = code.html().split(/\n(?!$)/g).length;
          var numbers = [];
          if (lines > 1) {
            lines++;
          }
          for (i = 1; i < lines; i++) {
            numbers += '<span class="line" aria-hidden="true">' + i + '</span>';
          }
          code.parent().append('<div class="lines">' + numbers + '</div>');
        }
      });
    }

    // Format code blocks only
    function codestylingWithoutLineNumbers() {
      $(selector).each(function(i, e) {
        // Code highlight
        hljs.highlightElement(e);
      });
    }

    codestylingWithoutLineNumbers();
    // Reading progress bar on window top
    function readingProgress() {
      var postBottom = post.offset().top + post.height();
      var viewportHeight = viewport.height();
      var progress = 100 - (((postBottom - (viewport.scrollTop() + viewportHeight) + viewportHeight / 3) / (postBottom - viewportHeight + viewportHeight / 3)) * 100);
      $('.progress-bar').css('width', progress + '%');
      (progress > 100) ? $('.progress-container').addClass('complete'): $('.progress-container').removeClass('complete');
    }
    readingProgress();
    // Trigger reading progress
    viewport.on({
      'scroll': function() {
        readingProgress();
      },
      'resize': function() {
        readingProgress();
      },
      'orientationchange': function() {
        readingProgress();
      }
    });

  });

  Waline.init({
      el: '#waline',
      serverURL: "https://waline-1-d9689975.deta.app/",
      emoji: false,
      search: false,
      imageUploader: false,
      locale: {placeholder: "欢迎评论，填写邮箱支持获取头像和收到回复通知。"},
  });
</script>
</body>

</html>