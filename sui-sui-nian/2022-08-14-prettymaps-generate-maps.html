<!DOCTYPE html>
<html lang="zh-cn">

<head>
    <meta charset="utf-8">
  <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />


  <title>ä½¿ç”¨ prettymaps ç”Ÿæˆç²¾ç¾åœ°å›¾ - Leoâ€™s blog</title>


  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="referrer" content="origin" />
  <meta name="generator" content="Pelican" />
<link href="https://leonis.cc/sui-sui-nian/2022-08-14-prettymaps-generate-maps.html" rel="canonical" />
  <!-- Feed -->
  <link href="https://leonis.cc/feed.xml" type="application/atom+xml" rel="alternate"
    title="Leoâ€™s blog Full Atom Feed" />

  <link href="https://leonis.cc/theme/css/style.css" type="text/css" rel="stylesheet" />

  <!-- CSS specified by the user -->


  <link href="https://leonis.cc/theme/css/customize.css" type="text/css" rel="stylesheet" />


  <link href="https://leonis.cc/theme/css/plugins.css" type="text/css" rel="stylesheet" />


  <link href="https://leonis.cc/theme/css/lightgallery.min.css" type="text/css" rel="stylesheet" />


  <link href="https://leonis.cc/theme/css/bookshelf.css" type="text/css" rel="stylesheet" />


  <!-- font-awesome icons -->
  <link href="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/font-awesome/6.0.0/css/all.min.css" rel="stylesheet" />
  <!-- Custom fonts -->
  <link href="https://leonis-fonts.deno.dev/leonis/ChiuKongGothic-CL-w4/result.css?updatedAt=1700222744424" rel="stylesheet" />
  <link href="https://leonis-fonts.deno.dev/leonis/ChiuKongGothic-CL-w5/result.css?updatedAt=1700275749020" rel="stylesheet" />
  <link href="https://leonis-fonts.deno.dev/leonis/ChiuKongGothic-CL-w7/result.css?updatedAt=1700275854743" rel="stylesheet" />
  <link href="https://cdnjs.loli.net/ajax/libs/fontsource-fira-sans/5.0.19/400.min.css" rel="stylesheet" />
  <link href="https://cdnjs.loli.net/ajax/libs/fontsource-fira-sans/5.0.19/400-italic.min.css" rel="stylesheet" />
  <link href="https://cdnjs.loli.net/ajax/libs/fontsource-fira-sans/5.0.19/500.min.css" rel="stylesheet" />
  <link href="https://cdnjs.loli.net/ajax/libs/fontsource-fira-sans/5.0.19/500-italic.min.css" rel="stylesheet" />
  <link href="https://cdnjs.loli.net/ajax/libs/fontsource-fira-sans/5.0.19/700.min.css" rel="stylesheet" />
  <link href="https://cdnjs.loli.net/ajax/libs/fontsource-fira-sans/5.0.19/700-italic.min.css" rel="stylesheet" />
  <link href="https://cdnjs.loli.net/ajax/libs/fontsource-lato/5.0.19/400.min.css" rel="stylesheet" />
  <link href="https://leonis-fonts.deno.dev/leonis/AdvocateAncientSerifSC-Bold/result.css?updatedAt=1700289637334" rel="stylesheet" />

  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
  <![endif]-->

  <script>
    var siteUrl = 'https://leonis.cc';
  </script>

  <script>
    var localTheme = localStorage.getItem('attila_theme');
    switch (localTheme) {
      case 'dark':
        document.documentElement.classList.add('theme-dark');
        break;
      case 'light':
        document.documentElement.classList.add('theme-light');
        break;
      default:
        break;
    }
  </script>







    <meta name="description" content="ç»è¿‡ä¸Šæ¬¡çš„å±¡æ¬¡è¸©å‘ï¼Œç»ˆäºè‰°éš¾åœ°åœ¨ Windows ä¸Šå®‰è£…å¥½äº† prettymapsã€‚çœ‹ç€ pip list ä¸­çš„ prettymapsï¼Œæˆ‘è¿«ä¸åŠå¾…åœ°æƒ³è¯•ç€ç”¨ prettymaps ç”Ÿæˆä¸€äº›åœ°å›¾ï¼Œé‚£ä¹ˆå°±å¼€å§‹å§ã€‚ AttributeError é”™è¯¯...">

    <meta name="author" content="Leo">

    <meta name="tags" content="prettymaps">
    <meta name="tags" content="Python">
    <meta name="tags" content="matplotlib">
    <meta name="tags" content="OpenStreetMap">




<!-- Open Graph -->
<meta prefix="og: http://ogp.me/ns#" property="og:site_name" content="Leoâ€™s blog"/>
<meta prefix="og: http://ogp.me/ns#" property="og:title" content="ä½¿ç”¨ prettymaps ç”Ÿæˆç²¾ç¾åœ°å›¾"/>
<meta prefix="og: http://ogp.me/ns#" property="og:description" content="ç»è¿‡ä¸Šæ¬¡çš„å±¡æ¬¡è¸©å‘ï¼Œç»ˆäºè‰°éš¾åœ°åœ¨ Windows ä¸Šå®‰è£…å¥½äº† prettymapsã€‚çœ‹ç€ pip list ä¸­çš„ prettymapsï¼Œæˆ‘è¿«ä¸åŠå¾…åœ°æƒ³è¯•ç€ç”¨ prettymaps ç”Ÿæˆä¸€äº›åœ°å›¾ï¼Œé‚£ä¹ˆå°±å¼€å§‹å§ã€‚ AttributeError é”™è¯¯..."/>
<meta prefix="og: http://ogp.me/ns#" property="og:locale" content="en_US"/>
<meta prefix="og: http://ogp.me/ns#" property="og:url" content="https://leonis.cc/sui-sui-nian/2022-08-14-prettymaps-generate-maps.html"/>
<meta prefix="og: http://ogp.me/ns#" property="og:type" content="article"/>
<meta prefix="og: http://ogp.me/ns#" property="article:published_time" content="2022-08-14 00:00:00+08:00"/>
<meta prefix="og: http://ogp.me/ns#" property="article:modified_time" content=""/>
<meta prefix="og: http://ogp.me/ns#" property="article:author" content="https://leonis.cc/author/leo.html">
<meta prefix="og: http://ogp.me/ns#" property="article:section" content="ç¢ç¢å¿µ"/>
<meta prefix="og: http://ogp.me/ns#" property="article:tag" content="prettymaps"/>
<meta prefix="og: http://ogp.me/ns#" property="article:tag" content="Python"/>
<meta prefix="og: http://ogp.me/ns#" property="article:tag" content="matplotlib"/>
<meta prefix="og: http://ogp.me/ns#" property="article:tag" content="OpenStreetMap"/>
<meta prefix="og: http://ogp.me/ns#" property="og:image" content="https://storage.live.com/items/4D18B16B8E0B1EDB!7541?authkey=ALYpzW-ZQ_VBXTU">

<!-- Twitter Card -->

<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Article",
  "name": "ä½¿ç”¨ prettymaps ç”Ÿæˆç²¾ç¾åœ°å›¾",
  "headline": "ä½¿ç”¨ prettymaps ç”Ÿæˆç²¾ç¾åœ°å›¾",
  "datePublished": "2022-08-14 00:00:00+08:00",
  "dateModified": "",
  "author": {
    "@type": "Person",
    "name": "Leo",
    "url": "https://leonis.cc/author/leo.html"
  },
  "image": "https://storage.live.com/items/4D18B16B8E0B1EDB!7541?authkey=ALYpzW-ZQ_VBXTU",
  "url": "https://leonis.cc/sui-sui-nian/2022-08-14-prettymaps-generate-maps.html",
  "description": "ç»è¿‡ä¸Šæ¬¡çš„å±¡æ¬¡è¸©å‘ï¼Œç»ˆäºè‰°éš¾åœ°åœ¨ Windows ä¸Šå®‰è£…å¥½äº† prettymapsã€‚çœ‹ç€ pip list ä¸­çš„ prettymapsï¼Œæˆ‘è¿«ä¸åŠå¾…åœ°æƒ³è¯•ç€ç”¨ prettymaps ç”Ÿæˆä¸€äº›åœ°å›¾ï¼Œé‚£ä¹ˆå°±å¼€å§‹å§ã€‚ AttributeError é”™è¯¯..."
}
</script>

<link href="https://npm.elemecdn.com/@waline/client@2.14.9/dist/waline.css" rel="stylesheet" />
<script src="https://npm.elemecdn.com/@waline/client@2.14.9/dist/waline.js"></script>

</head>









<body class="category-template">

<div class="nav-header">
  <nav class="nav-wrapper" aria-label="Main">
<ul>

    <li class="nav-Home " role="presentation"><a href="/"><span>Home</span></a></li>
    <li class="nav-ç¢ç¢å”¸ active" role="presentation"><a href="/category/sui-sui-nian.html"><span>ç¢ç¢å”¸</span></a></li>
    <li class="nav-æ•…ç´™å † " role="presentation"><a href="/category/gu-zhi-dui.html"><span>æ•…ç´™å †</span></a></li>
    <li class="nav-åœ¨è·¯ä¸Š " role="presentation"><a href="/category/zai-lu-shang.html"><span>åœ¨è·¯ä¸Š</span></a></li>
    <li class="nav-å±±ç‰†é‚Š " role="presentation"><a href="/pages/shan-qiang-bian.html"><span>å±±ç‰†é‚Š</span></a></li>
    <li class="nav-ç ´æ«¥ç° " role="presentation"><a href="https://neodb.social/users/Leo/"><span>ç ´æ«¥ç°</span></a></li>
    <li class="nav-Archives " role="presentation"><a href="/archives.html"><span>Archives</span></a></li>
    <li class="nav-Tags " role="presentation"><a href="/tags.html"><span>Tags</span></a></li>
    <li class="nav-About " role="presentation"><a href="/about.html"><span>About</span></a></li>

</ul>
<ul class="nav-meta">
    <li class="nav-search">
      <a aria-label="Search" href="/search.html" target="_blank">
        <i class="icon icon-search" aria-hidden="true"></i>
    <span>search</span></a></li>
    <li class="nav-foreverblog">
      <a aria-label="Foreverblog" href="https://www.foreverblog.cn/go.html" target="_blank">
        <i aria-hidden="true"><img src="https://img.foreverblog.cn/wormhole_2_tp.gif" alt="foreverblog" title="ç©¿æ¢­è™«æ´-éšæœºè®¿é—®åå¹´ä¹‹çº¦å‹é“¾åšå®¢"></i>
    <span>foreverblog</span></a></li>
    <li class="nav-travellings">
      <a aria-label="Travellings" href="https://www.travellings.cn/go.html" target="_blank">
        <i aria-hidden="true"><img src="https://www.travellings.cn/assets/w.png" alt="travellings" title="å¼€å¾€-å‹é“¾æ¥åŠ›" aria-hidden="true"></i>
    <span>travellings</span></a></li>
  <li class="nav-search" style="display: none;">
    <a title="Search">
      <i class="icon icon-search" aria-hidden="true"></i>
      <span>Search</span>
    </a>
  </li>
</ul>  </nav>

  <div class="nav-wrapper-control">
    <div class="inner">
      <a class="nav-menu" role="button"><i class="icon icon-menu" aria-hidden="true"></i>Menu</a>
      <a class="nav-search" title="Search" role="button" style="display: none;"><i class="icon icon-search" aria-hidden="true"></i></a>
    </div>
  </div>
</div>
<div class="nav-close" role="button" aria-label="Close"></div>
  <section id="wrapper" class="page-wrapper">
    <!-- Progressbar -->
    <div class="progress-container">
      <span class="progress-bar"></span>
    </div>

    <!-- Page Header -->
    <!-- Set your background image for this header on the line below. -->
    <header class="post-header  has-cover ">
      <div class="inner">
        <span class="post-info">
          <span class="post-type">Article</span>
          <span class="post-count">ç¢ç¢å¿µ</span>
        </span>
        <h1 class="post-title">ä½¿ç”¨ prettymaps ç”Ÿæˆç²¾ç¾åœ°å›¾</h1>
        <div class="post-meta">
          <div class="post-meta-avatars">


            <figure class="post-meta-avatar avatar">
              <a class="author-avatar" href="https://leonis.cc/author/leo.html">
                <img class="author-profile-image" src="https://cravatar.cn/avatar/95e31f6808fafa1f8ef3313b6f0b10e6?s=800" alt="Leo" />
              </a>
            </figure>
          </div>

          <h4 class="post-meta-author">
            Leo
          </h4>
          <time datetime="2022å¹´ 8æœˆ14æ—¥">2022å¹´ 8æœˆ14æ—¥</time>
        </div>
          <div class="post-cover cover">
            <img src="https://storage.live.com/items/4D18B16B8E0B1EDB!7541?authkey=ALYpzW-ZQ_VBXTU" alt="Category ç¢ç¢å¿µ" />
          </div>
      </div>
    </header>

    <!-- Post content -->
    <main class="content" role="main">
        <article class="post">
          <div class="toc-nav">
            <div id="toc"><ul><li><a class="toc-href" href="#attributeerror-cuo-wu" title="AttributeError é”™è¯¯">AttributeError é”™è¯¯</a></li><li><a class="toc-href" href="#chu-kui-prettymapsplot-han-shu" title="åˆçª¥ prettymaps.plot() å‡½æ•°">åˆçª¥ prettymaps.plot() å‡½æ•°</a></li><li><a class="toc-href" href="#yuan-xing-mo-shi" title="åœ†å½¢æ¨¡å¼">åœ†å½¢æ¨¡å¼</a></li><li><a class="toc-href" href="#yuan-jiao-ju-xing-mo-shi" title="åœ†è§’çŸ©å½¢æ¨¡å¼">åœ†è§’çŸ©å½¢æ¨¡å¼</a></li><li><a class="toc-href" href="#fang-xing-mo-shi" title="æ–¹å½¢æ¨¡å¼">æ–¹å½¢æ¨¡å¼</a></li><li><a class="toc-href" href="#jin-jie-cao-zuo" title="è¿›é˜¶æ“ä½œ">è¿›é˜¶æ“ä½œ</a></li><li><a class="toc-href" href="#zi-ji-de-hua" title="è‡ªå·±çš„è¯">è‡ªå·±çš„è¯</a></li></ul></div>
          </div>
        <div class="inner">
          <section class="post-content">
            <p>ç»è¿‡<a href="https://tseing.github.io/sui-sui-nian/2022-08-11-prettymaps-install.html" rel="noopener" target="_blank">ä¸Šæ¬¡</a>çš„å±¡æ¬¡è¸©å‘ï¼Œç»ˆäºè‰°éš¾åœ°åœ¨ Windows ä¸Šå®‰è£…å¥½äº† prettymapsã€‚çœ‹ç€ <code>pip list</code> ä¸­çš„ <code>prettymaps</code>ï¼Œæˆ‘è¿«ä¸åŠå¾…åœ°æƒ³è¯•ç€ç”¨ <code>prettymaps</code> ç”Ÿæˆä¸€äº›åœ°å›¾ï¼Œé‚£ä¹ˆå°±å¼€å§‹å§ã€‚</p>
<h2 id="attributeerror-cuo-wu">AttributeError é”™è¯¯</h2>
<p>å…ˆè¿è¡Œä½œè€…ç»™å‡ºçš„ç¤ºä¾‹ä»£ç è¯•éªŒä¸€ä¸‹ï¼š</p>
<pre><code class="language-py">from prettymaps import *
from matplotlib import pyplot as plt
fig, ax = plt.subplots(figsize = (12, 12), constrained_layout = True)
layers = plot(
    'Pra&ccedil;a Ferreira do Amaral, Macau', radius = 1100,
    ax = ax,
    layers = {
            'perimeter': {},
            'streets': {
                'custom_filter': '["highway"~"motorway|trunk|primary|secondary|tertiary|residential|service|unclassified|pedestrian|footway"]',
                'width': {
                    'motorway': 5,
                    'trunk': 5,
                    'primary': 4.5,
                    'secondary': 4,
                    'tertiary': 3.5,
                    'residential': 3,
                    'service': 2,
                    'unclassified': 2,
                    'pedestrian': 2,
                    'footway': 1,
                }
            },
            'building': {'tags': {'building': True, 'landuse': 'construction'}, 'union': False},
            'water': {'tags': {'natural': ['water', 'bay']}},
            'green': {'tags': {'landuse': 'grass', 'natural': ['island', 'wood'], 'leisure': 'park'}},
            'forest': {'tags': {'landuse': 'forest'}},
            'parking': {'tags': {'amenity': 'parking', 'highway': 'pedestrian', 'man_made': 'pier'}}
        },
        drawing_kwargs = {
            'background': {'fc': '#F2F4CB', 'ec': '#dadbc1', 'hatch': 'ooo...', 'zorder': -1},
            'perimeter': {'fc': '#F2F4CB', 'ec': '#dadbc1', 'lw': 0, 'hatch': 'ooo...',  'zorder': 0},
            'green': {'fc': '#D0F1BF', 'ec': '#2F3737', 'lw': 1, 'zorder': 1},
            'forest': {'fc': '#64B96A', 'ec': '#2F3737', 'lw': 1, 'zorder': 1},
            'water': {'fc': '#a1e3ff', 'ec': '#2F3737', 'hatch': 'ooo...', 'hatch_c': '#85c9e6', 'lw': 1, 'zorder': 2},
            'parking': {'fc': '#F2F4CB', 'ec': '#2F3737', 'lw': 1, 'zorder': 3},
            'streets': {'fc': '#2F3737', 'ec': '#475657', 'alpha': 1, 'lw': 0, 'zorder': 3},
            'building': {'palette': ['#FFC857', '#E9724C', '#C5283D'], 'ec': '#2F3737', 'lw': .5, 'zorder': 4},
        },
        osm_credit = {'color': '#2F3737'}
)
plt.savefig('macao.png')
</code></pre>
<p>ä½†æ˜¯æ‹‹å‡ºäº†é”™è¯¯ï¼Œæç¤º <code>AttributeError: 'DataFrame' object has no attribute 'crs'</code>ã€‚åœ¨ <a href="https://github.com/marceloprates/prettymaps/issues/88" rel="noopener" target="_blank">GitHub</a> ä¸Šæœ‰äººç»™å‡ºäº†è§£å†³æ–¹æ¡ˆï¼ŒåŸå› æ˜¯ <code>osmnx</code> çš„ç‰ˆæœ¬è¿‡ä½ï¼Œç›´æ¥ <code>pip install osmnx==1.2.1</code> å°±å¯ä»¥è§£å†³ã€‚</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œpip å¯èƒ½ä¼šç»™å‡ºé”™è¯¯ä¿¡æ¯æç¤º <code>osmnx==1.2.1</code> ä¸ <code>prettymaps</code> ä¸å…¼å®¹ã€‚ä½†åŒæ ·ç»™å‡ºäº†å·²æˆåŠŸå®‰è£… <code>osmnx==1.2.1</code> çš„ä¿¡æ¯ã€‚ç»è¿‡æˆ‘çš„å°è¯•ï¼Œ<code>prettymaps</code> æ˜¯å¯ä»¥æ­£å¸¸å·¥ä½œçš„ï¼Œæ‰€ä»¥è¿™æ¡é”™è¯¯ä¿¡æ¯å¯èƒ½æ²¡æœ‰ä»€ä¹ˆå½±å“ã€‚</p>
<h2 id="chu-kui-prettymapsplot-han-shu">åˆçª¥ prettymaps.plot() å‡½æ•°</h2>
<p><code>prettymaps</code> æ˜¯åœ¨ <code>matplotlib</code> ç”»å¸ƒä¸Šç»˜åˆ¶åœ°å›¾çš„ï¼Œæ‰€ä»¥ä¸»è¦å‚æ•°ä¸ <code>matplotlib</code> çš„å†™æ³•ç›¸åŒï¼Œç”¨äºè°ƒæ•´é¢œè‰²æˆ–æ–‡æœ¬ï¼Œä¸ç”šé‡è¦ã€‚è€Œç”¨äºç”Ÿæˆåœ°å›¾çš„ <code>prettymaps.plot()</code> å‡½æ•°å°±æ¯”è¾ƒå…³é”®ï¼Œæ¯”è¾ƒå¸¸ç”¨å‚æ•°çš„å°±ä»¥ä¸‹å‡ é¡¹ï¼š</p>
<pre><code class="language-py">plot(
    # åœ°å›¾çš„ä¸­å¿ƒç‚¹ï¼Œå¯ä»¥æ˜¯åœ°åçš„å­—ç¬¦ä¸²ï¼Œä¹Ÿå¯ä»¥ç»çº¬åº¦çš„å…ƒç»„
    'query',
    # åœ°å›¾åŠå¾„ï¼Œå•ä½ä¸ºç±³
    radius = 100,
    # å°† x è½´ç»‘å®šè‡³ç”»å¸ƒ x è½´
    ax = ax,
    # OpenStreetMap åœ°å›¾å±‚ä¿¡æ¯ï¼Œè‹¥ä¸äº†è§£å¤åˆ¶ç¤ºä¾‹ä»£ç å³å¯
    layers = {'perimeter': {}},
    # å›¾å±‚æ ·å¼ï¼Œå¦‚é¢œè‰²ç­‰
    drawing_kwargs = {},
    # ç‰ˆæƒä¿¡æ¯
    osm_credit = {}
)
</code></pre>
<h2 id="yuan-xing-mo-shi">åœ†å½¢æ¨¡å¼</h2>
<p>ä¸ç¤ºä¾‹ä»£ç ç›¸åŒï¼Œåªè¦å°† <code>perimeter</code> ç•™ç©ºï¼Œé»˜è®¤çš„ç»˜å›¾æ¨¡å¼å°±æ˜¯åœ†å½¢æ¨¡å¼ã€‚</p>
<p><div class="lightgallery"><a data-sub-html="NoCaption" href="https://storage.live.com/items/4D18B16B8E0B1EDB!7539?authkey=ALYpzW-ZQ_VBXTU" rel="noopener" target="_blank"><img alt="NoCaption" src="https://storage.live.com/items/4D18B16B8E0B1EDB!7539?authkey=ALYpzW-ZQ_VBXTU"/></a></div></p>
<p class="intro"><i class="fa-solid fa-map-location-dot"></i> å¤–æ»©  The Bund, Shanghai</p>
<h2 id="yuan-jiao-ju-xing-mo-shi">åœ†è§’çŸ©å½¢æ¨¡å¼</h2>
<p>åœ†è§’çŸ©å½¢æ¨¡å¼ä¸‹ï¼Œéœ€è¦æ–°å»ºä¸€ä¸ªå˜é‡ <code>dilate</code> ç”¨äºæ§åˆ¶åœ†è§’åŠå¾„ï¼Œå¹¶åœ¨æ¯ä¸€ä¸ªå›¾å±‚çš„å‚æ•°ä¸­æ·»åŠ  <code>'circle': False</code> ä¸ <code>'dilate': dilate</code> å°±èƒ½ç”Ÿæˆåœ†è§’çŸ©å½¢åœ°å›¾ã€‚</p>
<p>åœ¨å„ä¸ªå›¾å±‚ä¸­æ·»åŠ é”®å€¼æ—¶è¦æ³¨æ„æ‹¬å·çš„åµŒå¥—ï¼Œç‰¹åˆ«å®¹æ˜“å‡ºé”™ï¼Œå¯ä»¥å¤åˆ¶ä»¥ä¸‹ä»£ç ä¿®æ”¹ã€‚</p>
<pre><code class="language-py">dilate = 100
palette=['#F4A460', '#FA8072']
layers = plot(
    (26.08594,119.29199), radius = 400,
    ax = ax,
    layers = {
            'perimeter': {"circle": False, "dilate": dilate},
            'streets': {
                'custom_filter': '["highway"~"motorway|trunk|primary|secondary|tertiary|residential|service|unclassified|pedestrian|footway"]',
                'width': {
                    'motorway': 5,
                    'trunk': 5,
                    'primary': 4.5,
                    'secondary': 4,
                    'tertiary': 3.5,
                    'residential': 3,
                    'service': 3,
                    'unclassified': 3,
                    'pedestrian': 3,
                    'footway': 3,
                },
                'circle': False,
                'dilate': dilate,
            },
            'building': {
                'tags': {
                    'building': True,
                    'landuse': 'construction'
                },
                'union': False,
                'circle': False,
                'dilate': dilate
            },
            'water': {
                'tags': {
                    'natural': ['water', 'bay']
                },
                'circle': False,
                'dilate': dilate
            },
            'green': {
                'tags': {
                    'landuse': 'grass',
                    'natural': ['island', 'wood'],
                    'leisure': 'park'
                },
                'circle': False,
                'dilate': dilate,
            },
            'forest': {
                'tags': {'landuse': 'forest'},
                'circle': False,
                'dilate': dilate,
            },
            'parking': {
                'tags': {
                    'amenity': 'parking',
                    'highway': 'pedestrian',
                    'man_made': 'pier'},
                'circle': False,
                'dilate': dilate
            },
    },
        drawing_kwargs = {
            'background': {'fc': '#F2F4CB', 'ec': '#dadbc1', 'hatch': 'ooo...', 'zorder': -1},
            'perimeter': {'fc': '#F2F4CB', 'ec': '#dadbc1', 'lw': 0, 'hatch': 'ooo...',  'zorder': 0},
            'green': {'fc': '#D0F1BF', 'ec': '#2F3737', 'lw': 1, 'zorder': 1},
            'forest': {'fc': '#64B96A', 'ec': '#2F3737', 'lw': 1, 'zorder': 1},
            'water': {'fc': '#a1e3ff', 'ec': '#2F3737', 'hatch': 'ooo...', 'hatch_c': '#85c9e6', 'lw': 1, 'zorder': 2},
            'parking': {'fc': '#F2F4CB', 'ec': '#2F3737', 'lw': 1, 'zorder': 3},
            'streets': {'fc': '#2F3737', 'ec': '#475657', 'alpha': 1, 'lw': 0, 'zorder': 3},
            'building': {'palette': palette, 'ec': '#2F3737', 'lw': .5, 'zorder': 4},
        },
        osm_credit = {'color': '#2F3737'}
)
</code></pre>
<p><div class="lightgallery"><a data-sub-html="NoCaption" href="https://storage.live.com/items/4D18B16B8E0B1EDB!7540?authkey=ALYpzW-ZQ_VBXTU" rel="noopener" target="_blank"><img alt="NoCaption" src="https://storage.live.com/items/4D18B16B8E0B1EDB!7540?authkey=ALYpzW-ZQ_VBXTU"/></a></div></p>
<p class="intro"><i class="fa-solid fa-map-location-dot"></i> ä¸‰åŠä¸ƒå··  Sanfang Qixiang, Fuzhou</p>
<h2 id="fang-xing-mo-shi">æ–¹å½¢æ¨¡å¼</h2>
<p>æ¬²ä½¿åœ°å›¾å¸ƒæ»¡æ•´ä¸ªæ–¹å½¢ç”»é¢ï¼Œéœ€è¦ä½¿ç”¨ <code>matplotlib</code> çš„å‘½ä»¤ï¼ŒæŒ‡å®šç»˜åˆ¶å‡ºçš„ x ä¸ y è½´èŒƒå›´ã€‚åªéœ€è¦åœ¨åœ†è§’çŸ©å½¢çš„ä»£ç ä¸­æœ«æ’å…¥ä»¥ä¸‹ä»£ç ï¼š</p>
<pre><code class="language-py">xmin, ymin, xmax, ymax = layers['perimeter'].bounds
dx, dy = xmax-xmin, ymax-ymin
a = .2
ax.set_xlim(xmin+a*dx, xmax-a*dx)
ax.set_ylim(ymin+a*dy, ymax-a*dy)
</code></pre>
<p>å˜é‡ <code>a</code> è¡¨ç¤ºè£å»çš„å››å‘¨æ¯”ä¾‹ã€‚</p>
<p><div class="lightgallery"><a data-sub-html="NoCaption" href="https://storage.live.com/items/4D18B16B8E0B1EDB!7541?authkey=ALYpzW-ZQ_VBXTU" rel="noopener" target="_blank"><img alt="NoCaption" src="https://storage.live.com/items/4D18B16B8E0B1EDB!7541?authkey=ALYpzW-ZQ_VBXTU"/></a></div></p>
<p class="intro"><i class="fa-solid fa-map-location-dot"></i> é—½æ±Ÿ  Min River, Fuzhou</p>
<h2 id="jin-jie-cao-zuo">è¿›é˜¶æ“ä½œ</h2>
<p>ä½†ä¸æ­¢å¦‚æ­¤ï¼Œæˆ‘æƒ³è®¨è®ºä¸€äº›è¿›é˜¶çš„æ“ä½œã€‚<code>layers</code> å‚æ•°æŒ‡å®šäº†ç»˜åˆ¶çš„å›¾å±‚ï¼Œåœ¨ <code>drawing_kwargs</code> ä¸­å¯ä»¥æŒ‡å®šå›¾å±‚çš„æ ·å¼ï¼Œç”±åº•è‡³ä¸Šå¸¸è§ä»¥ä¸‹å‡ ä¸ªå›¾å±‚ï¼š</p>
<ul>
<li><code>background</code> ç”»å¸ƒçš„èƒŒæ™¯ï¼Œå¯ä»¥å‚è€ƒåœ†å½¢æ¨¡å¼è§†å›¾ä¸­å››ä¸ªè§’è½çš„ç©ºç™½ï¼›</li>
<li><code>perimeter</code> å›¾å±‚çš„åº•å±‚ï¼Œå¦‚æœæ²¡æœ‰å›¾å±‚è¦†ç›–ï¼Œå°±è¡¨ç°ä¸ºè¯¥å›¾å±‚çš„é¢œè‰²ï¼Œå¯ä»¥å‚è€ƒæ–¹å½¢æ¨¡å¼è§†å›¾ä¸­çš„æµ…é»„è‰²ï¼›</li>
<li><code>green</code> <code>forest</code> <code>water</code> ç­‰æŒ‰å­—é¢æ„æ€ç†è§£å³å¯ï¼Œè‹¥æƒ³ç¡®å®šå„ä¸ªå›¾å±‚ä¸­ <code>tags</code> æ‰€ä»£è¡¨çš„å…·ä½“äº‹ç‰©ï¼Œè§ <a href="https://wiki.openstreetmap.org/wiki/Zh-hans:Map_Features" rel="noopener" target="_blank">OpenStreetMap Wiki</a>ã€‚</li>
</ul>
<p><code>drawing_kwargs</code> ä¸­çš„æ ·å¼å‚æ•°åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªï¼š</p>
<ul>
<li><code>fc</code> å›¾å±‚çš„å¡«å……é¢œè‰²ï¼›</li>
<li><code>ec</code> å›¾å±‚çš„è½®å»“é¢œè‰²ï¼›</li>
<li><code>hatch</code> å›¾å±‚çš„å¡«å……çº¹ç†ï¼Œå…·ä½“è®¾ç½®è§ <a href="https://matplotlib.org/stable/gallery/shapes_and_collections/hatch_style_reference.html" rel="noopener" target="_blank">matplolib æ–‡æ¡£</a>ï¼›</li>
<li><code>hatch_c</code> å›¾å±‚å¡«å……çº¹ç†çš„é¢œè‰²ï¼›</li>
<li><code>alpha</code> å›¾å±‚çš„é€æ˜åº¦ï¼›</li>
<li><code>lw</code> å›¾å±‚è½®å»“çº¿æ¡çš„å®½åº¦ï¼›</li>
<li><code>zorder</code> å±‚æ•°ï¼Œå†³å®šäº†å›¾å±‚ä¹‹é—´ç›¸äº’æ©ç›–çš„å…³ç³»ã€‚</li>
</ul>
<p>æœ‰äº†ä»¥ä¸Šè®¤è¯†ä¹‹åï¼Œæˆ‘ä»¬å°±èƒ½æ›´åŠ éšå¿ƒæ‰€æ¬²åœ°ç»˜åˆ¶æƒ³è¦çš„åœ°å›¾äº†ã€‚è¿˜æœ‰ä¸€ä¸ªé¢å¤–çš„å°æŠ€å·§ï¼ŒOpenStreetMap æä¾›äº†å°é—­å…ƒç´ ï¼Œä½¿ç”¨åœ°å€æè¿°ç»˜åˆ¶åœ°ç‚¹ï¼Œä¸è®¾ç½® <code>radius</code> å‚æ•°ï¼Œ <code>prettymaps</code> å°±ä¼šè‡ªåŠ¨åŒ¹é…å°é—­å…ƒç´ çš„è¾¹ç•Œï¼Œä½¿ç”¨è¿™ä¸ªæ–¹å¼å¯ä»¥ç»˜åˆ¶æŒ‡å®šåœºæ‰€çš„ç¤ºæ„å›¾ã€è¡Œæ”¿åŒºçš„ç¤ºæ„å›¾ã€‚</p>
<pre><code class="language-py">fig, ax = plt.subplots(figsize = (12, 12), constrained_layout = True)

# ç”»å¸ƒé¢œè‰²
fig.patch.set_facecolor('#eee')

# è¾¹ç•Œå‘å¤–æ‰©å¼ 
def postprocessing(layers):
    layers['perimeter'] = layers['perimeter'].buffer(10)
    return layers

layers = plot(
    "åŒ—äº¬å¤§å­¦, 5å·, é¢å’Œå›­è·¯, æµ·æ·€åŒº, åŒ—äº¬å¸‚, 100871, ä¸­å›½",
    ax = ax,
    postprocessing = postprocessing,
    layers = {
            'perimeter': {},
            'streets': {
                'custom_filter': '["highway"~"residential|service|unclassified|pedestrian|footway"]',
                'width': {
                    'residential': 1.5,
                    'service': 1.5,
                    'unclassified': 1,
                    'pedestrian': 1,
                    'footway': 1,
                }
            },
            'building': {
                'tags': {
                    'building': True,
                    'landuse': 'construction'
                },
                'union': False
            },
            'water': {
                'tags': {
                    'natural': ['water']
                }
            },
            'green': {
                'tags': {
                    'landuse': ['grass'],
                    'natural': ['island', 'wood'],
                    'leisure': ['park', 'garden']
                }
            },
            'leisure': {
                'tags': {
                    'leisure': ['pitch', 'playground']
                }
            },
            'parking': {
                'tags': {
                    'amenity': 'parking',
                    'highway': 'pedestrian',
                    'man_made': 'pier'
                }
            },
        },
        drawing_kwargs = {
            'background': {'fc': '#eee', 'lw': 0 , 'zorder': -1},
            'perimeter': {'fc': '#F2F4CB', 'ec': '#2F3737', 'lw': 2, 'linestyle': 'dashed', 'zorder': 0},
            'green': {'fc': '#D0F1BF', 'ec': '#2F3737', 'lw': 0.5, 'zorder': 1},
            'leisure': {'fc': '#aae0cb', 'ec': '#2F3737', 'lw': 0.5, 'zorder': 1},
            'water': {'fc': '#a1e3ff', 'ec': '#2F3737', 'lw': 0.5, 'zorder': 2},
            'parking': {'fc': '#F2F4CB', 'ec': '#2F3737', 'lw': 0.5, 'zorder': 3},
            'streets': {'fc': '#2F3737', 'alpha': 0.7, 'lw': 0, 'zorder': 3},
            'building': {'palette': ['#FFC857', '#E9724C', '#C5283D'], 'ec': '#2F3737', 'lw': .5, 'zorder': 4},
        },
        osm_credit = {'color': '#2F3737'}
)
plt.savefig('pku.png')
</code></pre>
<p>ç”±äº <code>prettymaps</code> çš„å°é—­è¾¹ç•Œå¤ªè¿‡äºé è¿‘å»ºç­‘ï¼Œå¯ä»¥ä½¿ç”¨ <code>buffer()</code> å°†è¾¹ç•Œå‘å¤–æ‰©å¼ ä¸€éƒ¨åˆ†ï¼Œèƒ½è·å¾—æ›´å¥½çš„è§†è§‰æ•ˆæœã€‚</p>
<p><div class="lightgallery"><a data-sub-html="NoCaption" href="https://storage.live.com/items/4D18B16B8E0B1EDB!7542?authkey=ALYpzW-ZQ_VBXTU" rel="noopener" target="_blank"><img alt="NoCaption" src="https://storage.live.com/items/4D18B16B8E0B1EDB!7542?authkey=ALYpzW-ZQ_VBXTU"/></a></div></p>
<p class="intro"><i class="fa-solid fa-map-location-dot"></i> åŒ—äº¬å¤§å­¦  Peking University, Beijing</p>
<p>è°ƒç”¨ç›¸åº”çš„å›¾å±‚æ ‡ç­¾ï¼Œè¿˜å¯ä»¥ç»˜åˆ¶é“è·¯ã€åœ°é“çº¿è·¯ã€‚ä»¥ä¸‹ä»£ç è°ƒç”¨äº†äº†é“è·¯ã€åœ°é“ã€ç«™å°å¹¶å°†è¿™äº›å…ƒç´ å„è‡ªç»„åˆä¸ºå›¾å±‚ï¼š</p>
<pre><code class="language-py">'railway': {
    'custom_filter': '["railway"~"rail"]',
    'width': 2,
    'circle': False,
    'dilate': dilate,
},
'subway': {
    'tags': {
        "railway": "subway",
    },
    'circle': False,
    'dilate': dilate,
},
'platform': {
    'tags': {
        'railway': 'platform'
    },
    'circle': False,
    'dilate': dilate,
}
</code></pre>
<p><div class="lightgallery"><a data-sub-html="NoCaption" href="https://storage.live.com/items/4D18B16B8E0B1EDB!7543?authkey=ALYpzW-ZQ_VBXTU" rel="noopener" target="_blank"><img alt="NoCaption" src="https://storage.live.com/items/4D18B16B8E0B1EDB!7543?authkey=ALYpzW-ZQ_VBXTU"/></a></div></p>
<p class="intro"><i class="fa-solid fa-map-location-dot"></i> å¤©æ´¥ç«™  Tianjin Railway Station, Tianjin</p>
<h2 id="zi-ji-de-hua">è‡ªå·±çš„è¯</h2>
<p>ä¸å¾—ä¸è¯´ï¼Œ<code>prettymaps</code> æ˜¯ä¸€æ¬¾ååˆ†ä¼˜ç§€çš„ Python ç»˜å›¾åŒ…ï¼Œå®ƒçš„æ“ä½œååˆ†ç®€å•ï¼Œè¶³ä»¥è®©æˆ‘è¿™æ ·ä¸äº†è§£ GIS çš„ç”¨æˆ·è¿…é€Ÿå…¥é—¨ï¼Œç»˜åˆ¶å‡ºååˆ†æƒŠè‰³çš„åœ°å›¾ã€‚ä½†åœ¨å®é™…ä½¿ç”¨ä¸­ï¼Œ<code>prettymaps</code> è¿˜æ˜¯å­˜åœ¨ç€è¿™æ ·é‚£æ ·çš„é—®é¢˜ï¼Œä½¿å¾—å®ƒçš„å®šä½å¯èƒ½åªèƒ½æ­¢æ­¥äºä¸€ä¸ªå‘æŒ¥åˆ›æ„çš„å·¥å…·ï¼Œè€Œä¸èƒ½æˆä¸ºä¸€ä¸ªåˆé€‚çš„åˆ›ä½œå·¥å…·ã€‚</p>
<p>è­¬å¦‚è¯´ï¼Œå„ç§å„æ ·çš„ç”¨æˆ·å› ä¸ºå„ç§å„æ ·çš„éœ€æ±‚æ¥è§¦åˆ° <code>prettymaps</code>ï¼Œå…¶ä¸­ä¸ä¹æœ‰äº›ç”¨æˆ·æƒ³ä¸ºæŸäº›åœºæ‰€ã€å­¦æ ¡ç»˜åˆ¶å¯¼è§ˆåœ°å›¾ï¼Œä½† <code>prettymaps</code> æ·»åŠ å…ƒç´ çš„æ–¹å¼ä¸å¤Ÿçµæ´»ï¼Œè¿™ä¼šè®©è¿™äº›ç”¨æˆ·ä½¿ç”¨èµ·æ¥ç›¸å½“è´¹åŠ²ã€‚</p>
<p><code>prettymaps</code> çš„æ•°æ®åŸºäº OpenStreetMapï¼Œå› ä¸ºå›½å†…è¿™æ ·é‚£æ ·çš„ç›¸å…³æ³•å¾‹æ³•è§„ï¼Œæ³¨å®šäº† OpenStreetMap çš„å›½å†…è´¡çŒ®è€…ç‰¹åˆ«å°‘ï¼Œè¿™å¯¹äºå¼€æºé¡¹ç›®æ¥è¯´å‡ ä¹æ˜¯è‡´å‘½çš„ã€‚ç”±äº OpenStreetMap ç¼ºå°‘å›½å†…æ•°æ®ï¼Œä½¿ç”¨ <code>prettymaps</code> ç»˜åˆ¶å›½å†…åŸå¸‚çš„åœ°å›¾æ˜¯ç›¸å½“åŠ›ä¸ä»å¿ƒçš„ã€‚</p>
<p>è¿™æ–¹é¢å…·ä½“è¡¨ç°ä¸ºå¤§é¢ç§¯ç¼ºå¤±å»ºç­‘ï¼Œç»˜åˆ¶çš„åœ°å›¾ä¸Šååˆ†ç©ºæ—·ï¼›ç¼ºå°‘æµ·æ´‹ã€æµ·å²¸çº¿æ•°æ®ï¼Œç»˜åˆ¶è¿‘æµ·åŒºåŸŸæ—¶å‘ˆç°ä¸ºå¤§ç‰‡ç©ºç™½ç­‰ç­‰ã€‚</p>
<p>OpenStreetMap çš„å°é—­è¾¹ç•Œæ˜¯éå¸¸äº®çœ¼çš„åŠŸèƒ½ï¼Œåœ¨ <code>prettymaps</code> ä¸­ç”¨å­—ç¬¦æè¿°åœ°ç‚¹å°±èƒ½ç»˜åˆ¶å‡ºè¡Œæ”¿åŒºã€å»ºç­‘ç¾¤ç­‰ç­‰ã€‚ä½†ä»å¦ä¸€ä¸ªæ–¹é¢è€ƒè™‘ï¼ŒOpenStreetMap çš„å°é—­è¾¹ç•Œæ˜¯ç”±ç”¨æˆ·è´¡çŒ®çš„ï¼Œæ‰€ä»¥åœ¨æ¶‰è¾¹å¢ƒçº¿ã€æ¶‰æ•æ„Ÿåœ°åŒºæ—¶åŠ¡å¿…å°å¿ƒã€‚</p>
<p>æ€»è€Œè¨€ä¹‹ï¼Œ<code>prettymaps</code> ä¸ºæˆ‘ä»¬æä¾›äº†å¦ä¸€ä¸ªè§†è§’ï¼Œè®©æˆ‘ä»¬ä¿¯ç°æ—¥å¸¸ç”Ÿæ´»çš„è¿™åº§åŸå¸‚ï¼Œæ„Ÿå—å»ºç­‘å¸ƒå±€çš„ç¾ã€‚è€Œ OpenStreetMap å¯ä»¥è¯´æ˜¯ä¸€ä¸ªä¼Ÿå¤§çš„é¡¹ç›®ï¼Œå®ƒå€ŸåŠ©æ‰€æœ‰äººçš„åŠ›é‡å»æç»˜æˆ‘ä»¬æ‰€ç”Ÿæ´»çš„è¿™ä¸ªä¸–ç•Œçš„ç»çº¬ï¼Œè¿™ä¸ªç†å¿µé—ªè€€ç€å›½é™…ä¸»ä¹‰ä¸ç†æƒ³ä¸»ä¹‰çš„å…‰èŠ’ã€‚</p>
<p><div class="warn-info"><p><span><i class="fa-solid fa-circle-exclamation"></i>&ensp;Warning</span>&emsp;æ‚²æŠ¥ï¼šOpenStreetMap åœ¨å›½å†…å·²ç»è¢«å¢™ï¼Œæ‰€ä»¥ prettymaps ä¹Ÿå°±å®Œå…¨ç”¨ä¸äº†äº† ğŸ˜•
&mdash;&mdash;2023 å¹´ 03 æœˆ 07 æ—¥ å¿—</p></div></p>
          </section>


          <section class="post-footer" style="margin: 12rem 0 0;">
            <div class="post-share">
              <span class="post-info-label">Share</span>
                <a title="å¤åˆ¶æ–‡ç« é“¾æ¥" aria-label="Share-link" class="share-link"
                  href="#" onclick='copyURL(event, "ä½¿ç”¨ prettymaps ç”Ÿæˆç²¾ç¾åœ°å›¾ - Leoâ€™s blog https://leonis.cc/sui-sui-nian/2022-08-14-prettymaps-generate-maps.html");return false;'>
                  <i class="icon icon-link"
                  aria-hidden="true"></i><span class="hidden">Share-link</span>
                </a>
                <a title="å˜Ÿå˜Ÿåˆ° Mastodon" aria-label="Mastodon" class="mastodon"
                  href="https://tootpick.org/#text=ä½¿ç”¨ prettymaps ç”Ÿæˆç²¾ç¾åœ°å›¾ - Leoâ€™s blog https://leonis.cc/sui-sui-nian/2022-08-14-prettymaps-generate-maps.html" target="_blank" rel="noopener noreferrer">
                  <i class="fa-brands fa-mastodon"
                  aria-hidden="true"></i><span class="hidden">Mastodon</span>
                </a>
                <a title="åˆ†äº«åˆ°å¾®åš" aria-label="Weibo" class="weibo"
                  href="http://service.weibo.com/share/share.php?url=https://leonis.cc/sui-sui-nian/2022-08-14-prettymaps-generate-maps.html&title=ä½¿ç”¨ prettymaps ç”Ÿæˆç²¾ç¾åœ°å›¾&nbsp;-&nbsp;Leoâ€™s blog"
                  target="_blank" rel="noopener noreferrer">
                  <i class="fa-brands fa-weibo"
                  aria-hidden="true"></i><span class="hidden">Weibo</span>
                </a>
                <a title="é€šè¿‡ Email è½¬å‘" aria-label="Email" class="email"
                  href="mailto:?subject=ä½¿ç”¨ prettymaps ç”Ÿæˆç²¾ç¾åœ°å›¾&amp;body=https://leonis.cc/sui-sui-nian/2022-08-14-prettymaps-generate-maps.html">
                  <i class="icon icon-mail"
                  aria-hidden="true"></i><span class="hidden">Email</span>
                </a>
              <div class="clear"></div>
            </div>

            <aside class="post-tags">
<a href="https://leonis.cc/tag/prettymaps.html"># prettymaps</a><a href="https://leonis.cc/tag/python.html"># Python</a><a href="https://leonis.cc/tag/matplotlib.html"># matplotlib</a><a href="https://leonis.cc/tag/openstreetmap.html"># OpenStreetMap</a>            </aside>

            <div class="clear"></div>

            <aside class="post-author">


                <figure class="post-author-avatar">
                  <img src="https://cravatar.cn/avatar/95e31f6808fafa1f8ef3313b6f0b10e6?s=800" alt="Leo" />
                </figure>
                <div class="post-author-bio">
                  <h4 class="post-author-name"><a href="https://leonis.cc/author/leo.html">Leo</a></h4>
                    <p class="post-author-about">A chemist who doesnâ€™t know about classical literature isnâ€™t a good programmer. Cool, huh?</p>
                    <span class="post-author-location">
                      <a rel="noopener" target="_blank" href="https://www.bing.com/maps?cp=39.116572%7E117.361669&lvl=10.1"
                      title="Tientsin">
                      <i class="fa-solid fa-earth-asia fa-fw"></i></a>
                    </span>
                  <!-- Social linkes in alphabet order. -->
                    <span class="post-author-mastodon">
                      <a rel="noopener" target="_blank" href="https://mast.dragon-fly.club/@leonis"
                      title="@leonis@dragon-fly.club">
                        <i class="fa-brands fa-mastodon fa-fw"></i></a>
                    </span>
                    <span class="post-author-github">
                      <a rel="noopener" target="_blank" href="https://github.com/Tseing"
                      title="@Tseing">
                        <i class="fa-brands fa-github fa-fw"></i></a>
                    </span>
                    <span class="post-author-email">
                      <a rel="noopener" target="_blank" href="mailto:im.yczeng@outlook.com"
                      title="im.yczeng@outlook.com">
                        <i class="fa-solid fa-envelope fa-fw"></i></a>
                    </span>
                    <span class="post-author-rss">
                      <a rel="noopener" target="_blank" href="/feed.xml"
                      title="RSS Feed">
                        <i class="fa-solid fa-rss fa-fw"></i></a>
                    </span>
                </div>
                <div class="clear"></div>
            </aside>

          </section>


          <aside class="post-nav">
            <a class="post-nav-next" href="https://leonis.cc/sui-sui-nian/2022-08-17-pelican-lightbox.html">
              <section class="post-nav-teaser">
                <i class="icon icon-arrow-left"></i>
                  <h2 class="post-nav-title">ä¸º Pelican åšå®¢è®¾ç½® Lightbox æ•ˆæœ</h2>
                <p class="post-nav-excerpt">å¦‚ä½•åƒç¤¾äº¤åª’ä½“ä¸Šå‘å¸ƒçš„å›¾ç‰‡ä¸€æ ·ï¼Œè®©åšå®¢æ–‡ç« ä¸­çš„å›¾ç‰‡ä¹Ÿèƒ½ç‚¹å‡»æ”¾å¤§å‘¢ï¼Ÿä½¿ç”¨ JavaScript æ’ä»¶ï¼Œåœ¨åšå®¢æ–‡ç« ä¸­æ·»åŠ è¿™ç§ Lightbox æ•ˆæœï¼Œå†åŠ ä¸Šé…å¥—çš„...</p>
                <p class="post-nav-meta"><time datetime="2022å¹´ 8æœˆ17æ—¥">2022å¹´ 8æœˆ17æ—¥</time></p>
              </section>
            </a>
            <a class="post-nav-prev" href="https://leonis.cc/sui-sui-nian/2022-08-11-prettymaps-install.html">
              <section class="post-nav-teaser">
                <i class="icon icon-arrow-right"></i>
                  <h2 class="post-nav-title">åœ¨ Windows å®‰è£… prettymaps çš„è¸©å‘å®å½•</h2>
                <p class="post-nav-excerpt">prettymaps æ˜¯ä¸€ä¸ª Python åœ°å›¾ç»˜å›¾åŒ…ï¼Œåœ¨ matplotlib ç»˜å›¾åŒ…çš„åŠ©åŠ›ä¸‹èƒ½å¤Ÿç»˜åˆ¶å‡ºååˆ†ç²¾ç¾çš„åœ°å›¾ã€‚ä½†æ˜¯ prettymaps åœ¨ Windows...</p>
                <p class="post-nav-meta"><time datetime="2022å¹´ 8æœˆ11æ—¥">2022å¹´ 8æœˆ11æ—¥</time></p>
              </section>
            </a>
            <div class="clear"></div>
          </aside>

<div id="waline"></div>
        </div>
      </article>
    </main>
    <div class="nav-footer">
      <nav class="nav-wrapper" aria-label="Footer">
        <span class="nav-copy">Leoâ€™s blog &copy; 2024
        </span>
        <span class="nav-credits">



          Published with <a href="https://github.com/getpelican/pelican" rel="nofollow">Pelican</a> &bull; Theme <a href="https://github.com/arulrajnet/attila" rel="nofollow">Attila</a> &bull;
          <a class="menu-item js-theme" href="#" data-system="System theme" data-dark="Dark theme" data-light="Light theme">
            <span class="theme-icon"></span><span class="theme-text">System theme</span>
          </a>
        </span>
      </nav>
    </div>

  </section>

  <script src="https://cdnjs.loli.net/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
  <!-- code highlight -->
  <script src="https://cdnjs.loli.net/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
  <script src="https://cdnjs.loli.net/ajax/libs/highlight.js/11.7.0/languages/django.min.js"></script>
  <script src="https://cdnjs.loli.net/ajax/libs/highlight.js/11.7.0/languages/dockerfile.min.js"></script>
  <script src="https://cdnjs.loli.net/ajax/libs/highlight.js/11.7.0/languages/markdown.min.js"></script>
  <script src="https://cdnjs.loli.net/ajax/libs/highlight.js/11.7.0/languages/nginx.min.js"></script>
  <script src="https://cdnjs.loli.net/ajax/libs/highlight.js/11.7.0/languages/pgsql.min.js"></script>
  <script type="text/javascript" src="https://leonis.cc/theme/js/jquery.fitvids.js"></script>
  <script type="text/javascript" src="https://leonis.cc/theme/js/script.js"></script>

  <!-- lightbox -->
  <script type="text/javascript" src="https://leonis.cc/theme/js/lightgallery.min.js"></script>
  <script type="text/javascript" src="https://leonis.cc/theme/js/lg-zoom.min.js"></script>
  <script>
    var elements = document.getElementsByClassName("lightgallery");
    for(var i=0; i<elements.length; i++) {
       lightGallery(elements[i]);
    }
  </script>
    <!-- umami analytics -->
    <script async defer src="https://analytics.umami.is/script.js" data-website-id="b508982a-f7bf-4c24-a948-8de93b0cb81d"></script>


  <!-- 	The #block helper will pull in data from the #contentFor other template files. In this case, there's some JavaScript which we only want to use in article.html, but it needs to be included down here, after jQuery has already loaded. -->

<script>
  $(document).ready(function () {
    var viewport = $(window);
    var post = $('.post-content');
    // Responsive videos with fitVids
    post.fitVids();

    var mdSelector="pre code";
    var rstSelector="pre code";
    var selector=mdSelector;
    // Format code blocks and add line numbers
    function codestyling() {
      $(selector).each(function(i, e) {
        // Code highlight
        hljs.highlightElement(e);
        // No lines for plain text blocks
        if (!$(this).hasClass('language-text')) {
          var code = $(this);
          // Calculate amount of lines
          var lines = code.html().split(/\n(?!$)/g).length;
          var numbers = [];
          if (lines > 1) {
            lines++;
          }
          for (i = 1; i < lines; i++) {
            numbers += '<span class="line" aria-hidden="true">' + i + '</span>';
          }
          code.parent().append('<div class="lines">' + numbers + '</div>');
        }
      });
    }

    // Format code blocks only
    function codestylingWithoutLineNumbers() {
      $(selector).each(function(i, e) {
        // Code highlight
        hljs.highlightElement(e);
      });
    }

    codestylingWithoutLineNumbers();
    // Reading progress bar on window top
    function readingProgress() {
      var postBottom = post.offset().top + post.height();
      var viewportHeight = viewport.height();
      var progress = 100 - (((postBottom - (viewport.scrollTop() + viewportHeight) + viewportHeight / 3) / (postBottom - viewportHeight + viewportHeight / 3)) * 100);
      $('.progress-bar').css('width', progress + '%');
      (progress > 100) ? $('.progress-container').addClass('complete'): $('.progress-container').removeClass('complete');
    }
    readingProgress();
    // Trigger reading progress
    viewport.on({
      'scroll': function() {
        readingProgress();
      },
      'resize': function() {
        readingProgress();
      },
      'orientationchange': function() {
        readingProgress();
      }
    });

  });

  Waline.init({
      el: '#waline',
      serverURL: "https://waline.leonis.cc/",
      emoji: false,
      search: false,
      imageUploader: false,
      locale: {placeholder: "æ¬¢è¿è¯„è®ºï¼Œå¡«å†™é‚®ç®±å¯ä»¥è·å–å¤´åƒå’Œæ”¶åˆ°å›å¤é€šçŸ¥ï½"},
  });
</script>
</body>

</html>